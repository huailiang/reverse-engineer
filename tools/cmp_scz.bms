# $CMP scz files
# script for QuickBMS http://quickbms.aluigi.org

endian big
getdstring SIGN 4
goto 0
if SIGN u== "STPZ"  # STPK is not an archive
    idstring "STPZ"
    get DUMMY long
    get CHUNKS long
    get OFFSET long
endif

savepos OFFSET
idstring "$CMP"
get ZSIZE long
getdstring ZERO 8
get SIZE long
get ZSIZE long
math ZSIZE + 0x10

#get ZSIZE asize
#math ZSIZE - OFFSET

comtype DRV3_SRD
get NAME basename
if NAME & "."
else
    string NAME + "."
endif
clog NAME OFFSET ZSIZE SIZE
